
# Essential : Command Execution 01

* Here, you need to start using the functionality as it’s supposed to be used. This will give you an idea of what the code does.

* You can see that you provide an `IP address` and that the application is running the command `ping` with this `IP address`. It’s running a command. Let see if there is some way to abuse this functionality. By doing some research, you can find that there is a type of attack named `commands injection`.

## Commands injection

* Commands injection can be used to run arbitrary commands on a server. Multiple payloads can be used to trigger this behaviour. For example, let’s say that the initial command is:

	* `ping [parameter]`
	* Where `[parameter]` is the value you provided in the form or in the `URL`.

* If you look at how the command line works, you can find that there is multiple way to add more commands:

	* `command1 && command2` that will run command2 if command1 succeeds.
	* `command1 || command2` that will run command2 if command1 fails.
	* `command1 ; command2` that will run command1 then command2.
	* `command1 | command2` that will run command1 and send the output of command1 to command2.
	* `...`

* In this application, we can provide a parameter to `command1`, but there is no `command2`. What we are going to do is add our own command. Instead of sending the `[parameter]` to the command:

	* `ping 127.0.0.1`

	* Where `127.0.0.1` is our `[parameter]`. We are going to send a malicious `[parameter]` that will contain another command:

	* `ping 127.0.0.1 ; cat /etc/passwd`

	* The application will think that `127.0.0.1 ; cat /etc/passwd` is just a parameter to run `command1`. But we actually injected `command2`: `cat /etc/passwd`.

* Now, what we want to do is run the command to score: `/usr/local/bin/score [uuid]`. We can just use the line above to run this command instead of `cat /etc/passwd`.

* You can access this exercise using the following URL: [http://ptl-3bf074d5-7ff63921.libcurl.so/](http://ptl-3bf074d5-7ff63921.libcurl.so/). You can also use the TLS version if you're experiencing timeouts due to network filtering: [https://ptl-3bf074d5-7ff63921.libcurl.so/](https://ptl-3bf074d5-7ff63921.libcurl.so/).

# Essential : Command Execution 02

* In this challenge, the developer fixed the issue from the previous one and filter some special characters.

* However, the developer forgot that you can use `command` to run a command.

* The call to system in `PHP` only returns `stdout`, the code execution may succeed even if you don't see the result in the page.

* You can access this exercise using the following URL: [http://ptl-ec30440a-5170a5b6.libcurl.so/](http://ptl-ec30440a-5170a5b6.libcurl.so/). You can also use the TLS version if you're experiencing timeouts due to network filtering: [https://ptl-ec30440a-5170a5b6.libcurl.so/](https://ptl-ec30440a-5170a5b6.libcurl.so/).

*  ``` https://ptl-ec30440a-5170a5b6.libcurl.so/?ip=`sleep 5`  ```
* `uname` is executed in the background but not showing the results.

# Essential : Command Execution 03

* In this challenge, the developer fixed the issue from the previous one and filter even more special characters.

* However, the developer forgot that you can use `$(command)` to run a command.

* The call to system in `PHP` only returns `stdout`, the code execution may succeed even if you don't see the result in the page.

* You can access this exercise using the following URL: [http://ptl-589aa135-782fd6d9.libcurl.so/](http://ptl-589aa135-782fd6d9.libcurl.so/). You can also use the TLS version if you're experiencing timeouts due to network filtering: [https://ptl-589aa135-782fd6d9.libcurl.so/](https://ptl-589aa135-782fd6d9.libcurl.so/).

* `http://ptl-589aa135-782fd6d9.libcurl.so/?ip=127.0.0.1$(sleep 5)`